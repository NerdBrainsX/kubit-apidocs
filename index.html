<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <title>Kubit API Documentation</title>

    <!-- Google Fonts - Mulish -->
    <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@400;600&display=swap" rel="stylesheet">

    <!-- Stoplight Elements -->
    <script src="https://unpkg.com/@stoplight/elements/web-components.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/@stoplight/elements/styles.min.css">

    <!-- Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <style>
      body {
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        height: 100vh;
        font-family: 'Mulish', sans-serif;
        background-color: #f9fafb;
      }

      header {
        background-color: #000;
        color: #ffffff;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem 2rem;
      }

      .logo {
        display: flex;
        align-items: center;
      }

      .logo img {
        height: 48px;
        margin-right: 1rem;
      }

     
      .lang-selector {
        position: relative;
        margin-right: 25px;
      }
      .lang-selector select {
        background: transparent;
        color: #fff;
        border: 1px solid #333; 
        border-radius: 4px;
        padding: 0.4rem 0.5rem;
        font-size: 1rem;
        outline: none;
        appearance: none;
        cursor: pointer;
        width: 175px;
      }
      /* Agregamos un peque√±o √≠cono para indicar dropdown (opcional) */
      .lang-selector::after {
        content: '‚ñæ';
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        pointer-events: none;
        color: #fff;
      }

      nav {
        display: flex;
        gap: 1.5rem;
      }

      nav a {
        color: #ffffff;
        text-decoration: none;
        font-weight: 600;
        font-size: 1rem;
        transition: color 0.3s;
      }

      nav a:hover {
        color: #00D8D8;
      }

      .content {
        flex: 1;
        padding: 0;
        margin: 0;
        background-color: #f9fafb;
        overflow-y: auto;
      }

      footer {
        background-color: #111;
        color: #ffffff;
        text-align: center;
        padding: 1rem;
        font-size: 0.755rem;
      }

      elements-api {
        width: 100%;
        height: 100%;
        max-width: 100%;
        box-shadow: none;
        border-radius: 0;
        background-color: white;
        margin: 0;
      }

      /* Navbar con fondo oscuro */
      elements-api::part(topbar) {
        background-color: #111 !important;
        color: #ffffff !important;
      }

      a[href*="stoplight.io"] {
        display: none !important;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="logo">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVJREFUeNrMmT9oE1Ecx3+/y5E6WFLSwXRJHCpCC0kmdWhdHLRgdBKH6uBiBzt36Zyls4uudhFc2hSqg0vTQbpYheJgQZIlBTFYEMGAPL/pk2t63uXevfcT8jhKSO/97vP7/3s5ohFb7LI5T+UsTfygFi5HjgJdtwECQYlrBZrPUyVLOf3lPtXfq3pagvNUKlGtwBBVxufge99kM549y8vT9GBwp/W6RA+neTEwSWj5JihVWhWJjyLVrvLacK384fvn+XngGpcFIRAFgYl3xgLN8TPYVsQw8M4NfmmomB+pzQK/QayJ0EAr6GZ+vzdSNBFAgjSImLQ0YaArvCZFg1RCFFts9AYVmqVlqQ5gHsXRQDotpWigmLWl/wKh+onUG61ble0LqadFzMg5y1E3TyenlHmwHHXrA83wEykaZIajbn6o+7sC8W3rvT06PqIdfypmDLBbJbpjwdGizbbaalOjbyGMSFI0sLS5vzBktqhxqNa79DHsMkGgxHvweEB0aCfEcQrkHkA9daw/TMUbG8EBp8AkidO3726YbzG6YiEsTjg2ESimWSZ+jgkFqVO3l2odYzSBy6m5yi49CS1y5y6/Q6NNFab/BWjwHIcZ6x5/ApnhsOUj7KUqdUc1qxxLhgt9V5cfRBjyLtpC3fgcSbtMDtRQHk5c4NdwKNz678FIGMj8kI+Qx5SBwfIR/8TfYOLwWqohGDSdGEcYJgHirG8h998uTiuh2nLZPknlfpYd0roYkEFzSE77A/VU0GuO6nm62B+QGBPUM+9csYVxX9VdpIR62Z5acQWClKZ6LGWkz/TiyCrdzrQOxCMESTE11ZKdyc/0Mphaqk4i17bVTVcg6AQpUkyQs6uWXMcPWSbEwG5K33mRaQImu3kvkgnSzKulF5e6b9V9hJRILYC9N9Q1w4zJDPnfV9r7Qq+ynJukyvDSnGiA3/SrTZiBmuNcHDJ+QU4mscpBEB4JrHG6mKFzdkDB83AzsMY4l6PLkTeke7VQPHkZgNP34DC6rW5ZlEFMPzh3X+A5mD+QBjn2L19geW38Ln1wDzXw5anSo+80auuPAAMAtuogdWTuyYsAAAAASUVORK5CYII=" alt="KubitPay">
        <span>Documentation</span>
      </div>
      <!-- Combo de idiomas -->
      <div class="lang-selector">
        <select id="langSelect">
          <!-- Usamos emoji de banderas para representar los idiomas -->
          <option value="es">üá≤üáΩ Espa√±ol</option>
          <option value="pt">üáßüá∑ Portugu√™s</option>
          <option value="en">üá¨üáß English</option>
          <option value="cn">üá®üá≥ ÊôÆÈÄöËØù (p«ît≈çnghu√†)</option>
        </select>
      </div>
    </header>

    <div class="content" id="content">
      <!-- Se inyectar√° el elemento <elements-api> mediante JavaScript -->
    </div>

    <footer>
      KubitPay de Mexico
    </footer>

    <script>
      // Funci√≥n para obtener el valor del par√°metro lang de la URL
      function getLangFromURL() {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get('lang') || 'es';
      }

      // Actualiza el combo para que refleje el idioma actual
      function updateLangSelect() {
        const currentLang = getLangFromURL();
        const langSelect = document.getElementById('langSelect');
        langSelect.value = currentLang;
      }

      document.addEventListener('DOMContentLoaded', function() {
        // Actualizamos el select con el idioma actual
        updateLangSelect();

        // Redirigir cuando se cambia el idioma
        document.getElementById('langSelect').addEventListener('change', function() {
          const selectedLang = this.value;
          // Redirige a la misma p√°gina con el par√°metro lang actualizado
          const url = new URL(window.location.href);
          url.searchParams.set('lang', selectedLang);
          window.location.href = url.toString();
        });

        // Construir la URL del archivo OpenAPI correspondiente
        const lang = getLangFromURL();
        const apiDescriptionUrl = `Kubit-${lang}.openapi.yaml?v=3.33`;

        // Crear el elemento <elements-api> din√°micamente
        const apiElement = document.createElement('elements-api');
        apiElement.setAttribute('apiDescriptionUrl', apiDescriptionUrl);
        apiElement.setAttribute('router', 'hash');
        apiElement.setAttribute('hideExport', 'true');
        apiElement.setAttribute('hideTryIt', 'true');
        apiElement.setAttribute('layout', 'responsive');
        apiElement.setAttribute('logo', 'assets/api.png');

        // Agregar el elemento al contenedor .content
        document.getElementById('content').appendChild(apiElement);
      });
    </script>
  </body>
</html>
